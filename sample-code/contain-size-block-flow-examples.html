<!doctype HTML>

<style>
.root {
    width: 50px;
    height: auto;
}
.intermediate {
  background: lightblue; 
}
.inner {
  width: 300px;
  height: 200px;
}
</style>

<b>Note: These examples only work with a browser that supports contain-size. Chrome Canary supports it if you turn on experimental features, via navigation to chrome://flags/#enable-experimental-web-platform-features.

Example #1: intermediate is constrained by root's width to be narrower than inner.
<div class=root>
  <div class=intermediate>
    <div class=inner></div>
  </div>
</div>

<p>
With content-size to simulate subtree of inner.
<div class=root>
  <div class=intermediate style="content-size: 300px 200px; contain: size">
  </div>
</div>

<p>
With width/height to simulate subtree of inner. Notice layout result is not as desired.
<div class=root>
  <div class=intermediate style="width: 300px; height: 200px;  contain: size">
  </div>
</div>

<p>
With min-width/min-height to simulate subtree of inner. Notice layout result is not as desired.
<div class=root>
  <div class=intermediate style="min-width: 300px; min-height: 200px;  contain: size">
  </div>
</div>

<style>
.outer {
  background: lightgray
}
</style>

<p>
Example #2: outer div is not constrained to the width of the inner one.
<div class=outer>
  <div class=inner></div>
</div>

<p>
With content-size to simulate subtree of inner.
<div class=outer style="content-size: 300px 200px; contain: size">
</div>

<p>
With width/min-height to simulate subtree of inner. Result has wrong width.
<div class=outer style="width: 300px; height: 200px;">
</div>

<p>
With min-width/min-height to simulate subtree of inner. In this case, the correct result is present.
<div class=outer style="min-width: 300px; min-height: 200px; contain: size">
</div>
